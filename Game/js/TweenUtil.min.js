TweenUtil=function(a,c,d){this.target=a;this.newProps=d;this.oldProps={};for(var b in this.newProps)"onStart"==b||"onComplete"==b||"onUpdate"==b?this[b]=this.newProps[b]:void 0!==this.target[b]&&(this.oldProps[b]=this.target[b]);this.duration=c;this.interval=TweenUtil.interval;this.total=this.duration/this.interval;this.count=0;this.timerID=null};TweenUtil.prototype.start=function(){TweenUtil.addTween(this);TweenUtil.activate();if(this.onStart)this.onStart()};TweenUtil.prototype.stop=function(){TweenUtil.removeTween(this)};
TweenUtil.prototype._trigger=function(){this.count++;if(this.onUpdate)this.onUpdate();if(this.count>=this.total){for(var a in this.newProps)this.target[a]=this.newProps[a];this._finish()}else for(a in this.newProps)this.target[a]+=(this.newProps[a]-this.oldProps[a])/this.total};TweenUtil.prototype._finish=function(){this.stop();if(this.onComplete)this.onComplete();this.newProps=this.oldProps=this.target=null};TweenUtil.timerID=null;TweenUtil.interval=1E3/30;TweenUtil.tweens=[];
TweenUtil.addTween=function(a){-1==TweenUtil.tweens.indexOf(a)&&TweenUtil.tweens.push(a)};TweenUtil.removeTween=function(a){a=TweenUtil.tweens.indexOf(a);-1!=a&&TweenUtil.tweens.splice(a,1);0==TweenUtil.tweens.length&&TweenUtil.deactivate()};TweenUtil.isActive=function(){return null!=TweenUtil.timerID};TweenUtil.activate=function(){null==TweenUtil.timerID&&(TweenUtil.timerID=setInterval(TweenUtil._trigger,TweenUtil.interval))};
TweenUtil.deactivate=function(){null!=TweenUtil.timerID&&(clearInterval(TweenUtil.timerID),TweenUtil.timerID=null)};TweenUtil._trigger=function(){for(var a=TweenUtil.tweens.length;0<=--a;)TweenUtil.tweens[a]._trigger();if(TweenUtil.onTrigger)TweenUtil.onTrigger()};TweenUtil.onTrigger=null;TweenUtil.to=function(a,c,d){(new TweenUtil(a,c,d)).start()};
TweenUtil.from=function(a,c,d){a=new TweenUtil(a,c,d);c=a.oldProps;a.oldProps=a.newProps;a.newProps=c;for(var b in a.oldProps)void 0!==a.target[b]&&(a.target[b]=a.oldProps[b]);a.start()};
