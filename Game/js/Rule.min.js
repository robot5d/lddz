GroupType=function(a,c){this.name=a;this.numPokers=c;GroupType[a]=this};GroupType.prototype.toString=function(){return this.name};new GroupType("单张",1);new GroupType("对子",2);new GroupType("双王",2);new GroupType("三张",3);new GroupType("炸弹",4);new GroupType("三带一",4);new GroupType("五张顺子",5);new GroupType("三带二",5);new GroupType("六张顺子",6);new GroupType("三连对",6);new GroupType("四带二",6);new GroupType("二连飞机",6);new GroupType("七张顺子",7);new GroupType("八张顺子",8);new GroupType("四连对",8);new GroupType("飞机带翅膀",8);
new GroupType("四带二对",8);new GroupType("九张顺子",9);new GroupType("三连飞机",9);new GroupType("十张顺子",10);new GroupType("五连对",10);new GroupType("飞机带二对",10);new GroupType("十一张顺子",11);new GroupType("十二张顺子",12);new GroupType("六连对",12);new GroupType("四连飞机",12);new GroupType("三连飞机带翅膀",12);new GroupType("七连对",14);new GroupType("五连飞机",15);new GroupType("三连飞机带三对",15);new GroupType("八连对",16);new GroupType("四连飞机带翅膀",16);new GroupType("九连对",18);new GroupType("六连飞机",18);new GroupType("十连对",20);
new GroupType("四连飞机带四对",20);new GroupType("五连飞机带翅膀",20);
Rule={compare:function(a,c){var f=Rule.getType(a),d=Rule.getType(c);return f&&d?f==d?a[0].point>c[0].point:f==GroupType.\u53cc\u738b||f==GroupType.\u70b8\u5f39&&d!=GroupType.\u53cc\u738b?!0:!1:!1},getType:function(a){AI.sort1(a);var c=a.length;switch(c){case 1:return GroupType.\u5355\u5f20;case 2:if(Rule.isSame(a,2))return GroupType.\u5bf9\u5b50;if(17==a[0].point&&16==a[1].point)return GroupType.\u53cc\u738b;break;case 3:if(Rule.isSame(a,3))return GroupType.\u4e09\u5f20;break;case 4:if(Rule.isSame(a,
4))return GroupType.\u70b8\u5f39;if(Rule.isTripleLink(a))return GroupType.\u4e09\u5e26\u4e00;break;case 5:if(Rule.isStraight(a))return GroupType.\u4e94\u5f20\u987a\u5b50;if(Rule.isTripleLink(a))return GroupType.\u4e09\u5e26\u4e8c;break;case 6:if(Rule.isStraight(a))return GroupType.\u516d\u5f20\u987a\u5b50;if(Rule.isPairLink(a))return GroupType.\u4e09\u8fde\u5bf9;if(Rule.isSame(a,4)){for(var f=-1,d=0,b=0;b<c-1;b++)a[b].point==a[b+1].point?(d++,3<=d&&(f=b-2)):d=0;0<f&&(c=a.splice(f,4),a.unshift.apply(a,
c));return GroupType.\u56db\u5e26\u4e8c}if(Rule.isTripleLink(a))return GroupType.\u4e8c\u8fde\u98de\u673a;break;case 7:if(Rule.isStraight(a))return GroupType.\u4e03\u5f20\u987a\u5b50;break;case 8:if(Rule.isStraight(a))return GroupType.\u516b\u5f20\u987a\u5b50;if(Rule.isPairLink(a))return GroupType.\u56db\u8fde\u5bf9;if(Rule.isTripleLink(a))return GroupType.\u98de\u673a\u5e26\u7fc5\u8180;if(Rule.isSame(a,4)){f=[];for(b=1;b<a.length;b++)d=a[b].point,a[b-1].point!=d||2<=b&&a[b-2].point==d||b<c-1&&a[b+
1].point==d||(f.push([a[b-1],a[b]]),b++);if(2==f.length)return GroupType.\u56db\u5e26\u4e8c\u5bf9}break;case 9:if(Rule.isStraight(a))return GroupType.\u4e5d\u5f20\u987a\u5b50;if(Rule.isTripleLink(a))return GroupType.\u4e09\u8fde\u98de\u673a;break;case 10:if(Rule.isStraight(a))return GroupType.\u5341\u5f20\u987a\u5b50;if(Rule.isPairLink(a))return GroupType.\u4e94\u8fde\u5bf9;if(Rule.isTripleLink(a))return GroupType.\u98de\u673a\u5e26\u4e8c\u5bf9;break;case 11:if(Rule.isStraight(a))return GroupType.\u5341\u4e00\u5f20\u987a\u5b50;
break;case 12:if(Rule.isStraight(a))return GroupType.\u5341\u4e8c\u5f20\u987a\u5b50;if(Rule.isPairLink(a))return GroupType.\u516d\u8fde\u5bf9;b=Rule.isTripleLink(a);if(3==b)return GroupType.\u4e09\u8fde\u98de\u673a\u5e26\u7fc5\u8180;if(4==b)return GroupType.\u56db\u8fde\u98de\u673a;break;case 14:if(Rule.isPairLink(a))return GroupType.\u4e03\u8fde\u5bf9;break;case 15:if(Rule.isTripleLink(a))return GroupType.\u4e94\u8fde\u98de\u673a;if(Rule.isTripleLink(a))return GroupType.\u4e09\u8fde\u98de\u673a\u5e26\u4e09\u5bf9;
break;case 16:if(Rule.isPairLink(a))return GroupType.\u516b\u8fde\u5bf9;if(Rule.isTripleLink(a))return GroupType.\u56db\u8fde\u98de\u673a\u5e26\u7fc5\u8180;break;case 18:if(Rule.isPairLink(a))return GroupType.\u4e5d\u8fde\u5bf9;if(Rule.isTripleLink(a))return GroupType.\u516d\u8fde\u98de\u673a;break;case 20:if(Rule.isPairLink(a))return GroupType.\u5341\u8fde\u5bf9;b=Rule.isTripleLink(a);if(5==b)return GroupType.\u4e94\u8fde\u98de\u673a\u5e26\u7fc5\u8180;if(4==b){f=[];for(b=1;b<a.length;b++)d=a[b].point,
a[b-1].point!=d||2<=b&&a[b-2].point==d||b<c-1&&a[b+1].point==d||(f.push([a[b-1],a[b]]),b++);if(4==f.length)return GroupType.\u56db\u8fde\u98de\u673a\u5e26\u56db\u5bf9}}return!1},isSame:function(a,c){for(var f=0,d=0;d<a.length-1;d++)if(a[d].point==a[d+1].point?f++:f=0,f>=c-1)return!0;return!1},isStraight:function(a){if(15<=a[0].point)return!1;for(var c=0;c<a.length-1;c++)if(a[c].point!=a[c+1].point+1)return!1;return!0},isPairLink:function(a){if(15<=a[0].point)return!1;for(var c=0;c<a.length-2;c+=2)if(a[c].point!=
a[c+1].point||a[c].point!=a[c+2].point+1||a[c+2].point!=a[c+3].point)return!1;return!0},isTripleLink:function(a){for(var c=0,f=a.length,d=[],b=[],g=0,e=2;e<f;e++)a[e].point==a[e-1].point&&a[e].point==a[e-2].point?0==g&&(g++,c++,d.push(a[e-2],a[e-1],a[e])):g=0;if(0==c)return!1;AI.sort1(d);for(e=0;e<f;e++)g=a[e],-1==d.indexOf(g)&&b.push(g);AI.sort1(b);g=d.concat(b);if(1<c)for(e=0;e<d.length-3;e+=3)if(15==d[e].point||d[e].point!=d[e+3].point+1)return!1;d=b.length;if(d==2*c){for(e=d=0;e<b.length-1;e++)b[e].point==
b[e+1].point&&d++;if(c!=d)return!1}else if(0!=d&&d!=c)return!1;for(e=0;e<f;e++)a[e]=g[e];return c}};
